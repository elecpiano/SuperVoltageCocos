require=function r(s,l,a){function c(e,t){if(!l[e]){if(!s[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(h)return h(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=l[e]={exports:{}};s[e][0].call(n.exports,function(t){return c(s[e][1][t]||t)},n,n.exports,r,s,l,a)}return l[e].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)c(a[t]);return c}({BombExplosionController:[function(t,e,o){"use strict";cc._RF.push(e,"b8aeaNzlc1Pm7xG8axqM5FP","BombExplosionController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ExplosionH=null,t.ExplosionV=null,t.ExplosionAudio=null,t.flash_count=0,t.BOMB_FLASH_SCALE=.8,t.BOMB_FLASH_INTERVAL=.05,t.falsh_elapse_time=0,t.flashing=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.opacity=0},t.prototype.update=function(t){this.flashing&&(this.falsh_elapse_time+=t,this.falsh_elapse_time>this.BOMB_FLASH_INTERVAL&&(this.flashNew(),this.falsh_elapse_time=0))},t.prototype.Show=function(t){this.node.opacity=255,this.ExplosionH.node.setPosition(320,t.node.position.y),this.ExplosionV.node.setPosition(t.node.position.x,480),this.flash_count=0,this.flashing=!0,this.ExplosionAudio.play()},t.prototype.flash=function(){var t=this;if(this.flashing){this.flash_count++;var e=this.flash_count%2==0?1:this.BOMB_FLASH_SCALE;this.ExplosionH.node.scaleY=e,this.ExplosionV.node.scaleY=e,this.scheduleOnce(function(){t.flash()},this.BOMB_FLASH_INTERVAL)}},t.prototype.flashNew=function(){this.flash_count++;var t=this.flash_count%2==0?1:this.BOMB_FLASH_SCALE;this.ExplosionH.node.scaleY=t,this.ExplosionV.node.scaleY=t},t.prototype.Hide=function(){this.flashing=!1,this.node.opacity=0},__decorate([r(cc.Sprite)],t.prototype,"ExplosionH",void 0),__decorate([r(cc.Sprite)],t.prototype,"ExplosionV",void 0),__decorate([r(cc.AudioSource)],t.prototype,"ExplosionAudio",void 0),t=__decorate([n],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],CellController:[function(t,e,o){"use strict";cc._RF.push(e,"3eb5a3ksQtEg7vsxr15bgMW","CellController"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameBoardController"),p=t("./Enums"),u=t("./Global"),n=cc._decorator,r=n.ccclass,s=n.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CellColor=null,t.CellBody=null,t.CellHint=null,t.X_Texture=null,t.X_Hint_Texture=null,t.T_Texture=null,t.T_Hint_Texture=null,t.L_Texture=null,t.L_Hint_Texture=null,t.I_Texture=null,t.I_Hint_Texture=null,t.H_Texture=null,t.H_Hint_Texture=null,t._CellState=p.CellState.Normal,t.CellType=p.CellType.Cross,t.gameBoard=null,t.isBusy=!1,t.rotateMinScale=.35,t.targetAngle=0,t.backupAngle=0,t.currentColor=0,t.Board_X=0,t.Board_Y=0,t.RotationQuarterCount=0,t._WhereItShouldBe=new cc.Vec2(0,0),t.TopAntenna=!1,t.BottomAntenna=!1,t.LeftAntenna=!1,t.RightAntenna=!1,t.TopConnectedCell=null,t.LeftConnectedCell=null,t.BottomConnectedCell=null,t.RightConnectedCell=null,t.hintAction=null,t.AttachedMonster=null,t.AttachedGift=null,t.electricEffect=null,t.flowAtTop=null,t.flowAtBottom=null,t.flowAtLeft=null,t.flowAtRight=null,t.longpressCounting=!1,t.longpressTimespan=0,t.longpressLevel=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"CellState",{get:function(){return this._CellState},set:function(t){this._CellState=t,this.setColor(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WhereItShouldBe",{get:function(){return this._WhereItShouldBe.x=this.Board_X*this.node.width+u.BOARD_OFFSET_X,this._WhereItShouldBe.y=this.Board_Y*this.node.height+u.BOARD_OFFSET_Y,this._WhereItShouldBe},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.registerTouchEvent(),this.gameBoard=cc.find("Canvas").getComponent(i.default)},t.prototype.update=function(t){this.longpressCounting&&(this.longpressTimespan+=t,this.longpressTimespan>=u.GIFT_LONGPRESS_DURATION&&1==this.longpressLevel?this.longPressed(2):this.longpressTimespan>=u.GIFT_LONGPRESS_THESHOLD&&0==this.longpressLevel&&this.longPressed(1))},t.prototype.initCell=function(t,e,o,i){switch(this.CellType=t,this.Board_X=o,this.Board_Y=i,this.RotationQuarterCount=0,this.node.rotation=-90*e,this.RotateAntennas(e),this.node.scale=1,this.CellHint.node.opacity=0,this.gameBoard.CurrentlyTouchedCell==this&&(this.gameBoard.CurrentlyTouchedCell=null),t){case p.CellType.Cross:this.CellBody.spriteFrame=this.X_Texture,this.CellHint.spriteFrame=this.X_Hint_Texture;break;case p.CellType.T:this.CellBody.spriteFrame=this.T_Texture,this.CellHint.spriteFrame=this.T_Hint_Texture;break;case p.CellType.L:this.CellBody.spriteFrame=this.L_Texture,this.CellHint.spriteFrame=this.L_Hint_Texture;break;case p.CellType.I:this.CellBody.spriteFrame=this.I_Texture,this.CellHint.spriteFrame=this.I_Hint_Texture;break;case p.CellType.Half:this.CellBody.spriteFrame=this.H_Texture,this.CellHint.spriteFrame=this.H_Hint_Texture}},t.prototype.registerTouchEvent=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(e.gameBoard.CurrentGameState==p.GameState.Hint&&0<=e.gameBoard.circuitTree.indexOf(e)||e.gameBoard.CurrentGameState==p.GameState.Idle){if(null!=e.gameBoard.CurrentlyTouchedCell)return;if(e.isBusy)return;(e.gameBoard.CurrentlyTouchedCell=e).longPressStart()}},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){e.gameBoard.CurrentGameState!=p.GameState.Burning&&e.gameBoard.CurrentlyTouchedCell==e&&(e.isBusy||(e.longPressCancel(),0<e.longpressLevel?e.gameBoard.CurrentlyTouchedCell=null:null!=e.AttachedMonster?(e.AttachedMonster.GetAngry(),e.gameBoard.CurrentlyTouchedCell=null):e.Rotate()))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.gameBoard.CurrentlyTouchedCell==e&&(e.isBusy||(e.longPressCancel(),e.gameBoard.CurrentlyTouchedCell=null,e.isBusy=!1))},this)},t.prototype.Rotate=function(){var t=this;this.isBusy=!0,this.CellState=p.CellState.Normal,this.gameBoard.UpdateBoard(this),this.node.runAction(cc.rotateBy(.5*u.CELL_ROTATE_DURATION,-90)),this.node.runAction(cc.sequence(cc.scaleTo(.5*u.CELL_ROTATE_DURATION,this.rotateMinScale,this.rotateMinScale),cc.scaleTo(.5*u.CELL_ROTATE_DURATION,1,1),cc.callFunc(function(){t.RotateAntennas(),t.isBusy=!1,t.gameBoard.CurrentlyTouchedCell=null,t.gameBoard.UpdateBoard(),t.gameBoard.spark(t)},this)))},t.prototype.RotateAntennas=function(t){switch(void 0===t&&(t=1),this.RotationQuarterCount+=t,this.RotationQuarterCount=this.RotationQuarterCount%4,this.CellType){case p.CellType.I:0==this.RotationQuarterCount||2==this.RotationQuarterCount?(this.TopAntenna=this.BottomAntenna=!0,this.LeftAntenna=this.RightAntenna=!1):1!=this.RotationQuarterCount&&3!=this.RotationQuarterCount||(this.TopAntenna=this.BottomAntenna=!1,this.LeftAntenna=this.RightAntenna=!0);break;case p.CellType.L:0==this.RotationQuarterCount?(this.TopAntenna=this.RightAntenna=!0,this.BottomAntenna=this.LeftAntenna=!1):1==this.RotationQuarterCount?(this.TopAntenna=this.LeftAntenna=!0,this.BottomAntenna=this.RightAntenna=!1):2==this.RotationQuarterCount?(this.TopAntenna=this.RightAntenna=!1,this.BottomAntenna=this.LeftAntenna=!0):3==this.RotationQuarterCount&&(this.TopAntenna=this.LeftAntenna=!1,this.BottomAntenna=this.RightAntenna=!0);break;case p.CellType.T:0==this.RotationQuarterCount?(this.LeftAntenna=this.RightAntenna=this.BottomAntenna=!0,this.TopAntenna=!1):1==this.RotationQuarterCount?(this.TopAntenna=this.RightAntenna=this.BottomAntenna=!0,this.LeftAntenna=!1):2==this.RotationQuarterCount?(this.LeftAntenna=this.RightAntenna=this.TopAntenna=!0,this.BottomAntenna=!1):3==this.RotationQuarterCount&&(this.LeftAntenna=this.TopAntenna=this.BottomAntenna=!0,this.RightAntenna=!1);break;case p.CellType.Cross:this.LeftAntenna=this.RightAntenna=this.TopAntenna=this.BottomAntenna=!0;break;case p.CellType.Half:0==this.RotationQuarterCount?(this.RightAntenna=this.TopAntenna=this.LeftAntenna=!1,this.BottomAntenna=!0):1==this.RotationQuarterCount?(this.TopAntenna=this.LeftAntenna=this.BottomAntenna=!1,this.RightAntenna=!0):2==this.RotationQuarterCount?(this.LeftAntenna=this.BottomAntenna=this.RightAntenna=!1,this.TopAntenna=!0):3==this.RotationQuarterCount&&(this.BottomAntenna=this.RightAntenna=this.TopAntenna=!1,this.LeftAntenna=!0)}},t.prototype.GetReadyForShow=function(){this.node.setPosition(this.Board_X*this.node.width+u.BOARD_OFFSET_X,this.node.height*u.BOARD_ROW_COUNT+u.STARTING_LINE_OFFSET),this.CellState=p.CellState.Normal},t.prototype.MoveToWhereItShouldBe=function(t){this.node.runAction(cc.sequence(cc.moveTo(u.CELL_DROP_DURATION,this.WhereItShouldBe),cc.callFunc(t,this))),null!=this.AttachedMonster&&(this.AttachedMonster.ShouldMoveAround=!1,this.AttachedMonster.node.runAction(cc.moveTo(u.CELL_DROP_DURATION,this.WhereItShouldBe))),null!=this.AttachedGift&&this.AttachedGift.node.runAction(cc.moveTo(u.CELL_DROP_DURATION,this.WhereItShouldBe))},t.prototype.GetConnections=function(){this.TopConnectedCell=null,this.LeftConnectedCell=null,this.BottomConnectedCell=null,this.RightConnectedCell=null;var t=new Array;if(this.TopAntenna&&this.Board_Y<u.BOARD_ROW_COUNT-1){var e=this.gameBoard.cellMatrix[this.Board_Y+1][this.Board_X];null!=e&&e.BottomAntenna&&(t.push(e),this.TopConnectedCell=e)}if(this.LeftAntenna&&0<this.Board_X){var o=this.gameBoard.cellMatrix[this.Board_Y][this.Board_X-1];null!=o&&o.RightAntenna&&(t.push(o),this.LeftConnectedCell=o)}if(this.BottomAntenna&&0<this.Board_Y){var i=this.gameBoard.cellMatrix[this.Board_Y-1][this.Board_X];null!=i&&i.TopAntenna&&(t.push(i),this.BottomConnectedCell=i)}if(this.RightAntenna&&this.Board_X<u.BOARD_COLUMN_COUNT-1){var n=this.gameBoard.cellMatrix[this.Board_Y][this.Board_X+1];null!=n&&n.LeftAntenna&&(t.push(n),this.RightConnectedCell=n)}return t},t.prototype.SetState=function(t,e){var o=p.CellState.Normal;t||e?t&&!e?o=p.CellState.LeftBorderConnected:!t&&e?o=p.CellState.RightBorderConnected:t&&e&&(o=p.CellState.Hint):o=p.CellState.Normal,this.CellState=o},t.prototype.setColor=function(t){switch(t){case p.CellState.Normal:this.CellColor.node.color=cc.color(204,204,204);break;case p.CellState.LeftBorderConnected:this.CellColor.node.color=cc.color(147,205,221);break;case p.CellState.RightBorderConnected:this.CellColor.node.color=cc.color(234,200,93);break;case p.CellState.Hint:this.CellColor.node.color=cc.color(184,203,145);break;case p.CellState.Burnt:this.CellColor.node.color=cc.color(64,64,64)}},t.prototype.ShowHint=function(){this.hintAction=this.CellHint.node.runAction(cc.sequence(cc.fadeIn(.3*u.CIRCUIT_HINT_DURATION),cc.fadeOut(.7*u.CIRCUIT_HINT_DURATION)))},t.prototype.AbortHint=function(){null!=this.hintAction&&(this.CellHint.node.stopAction(this.hintAction),this.CellHint.node.opacity=0)},t.prototype.Bomb=function(){this.CellState=p.CellState.Burnt,null!=this.AttachedGift&&this.AttachedGift.Burn(),null!=this.AttachedMonster&&this.AttachedMonster.Shock()},t.prototype.GetBombed=function(){var t=!0;return null!=this.AttachedGift&&this.AttachedGift.BombTriggered&&(this.AttachedGift==this.gameBoard.ExplodingBomb?(this.AttachedGift.Remove(),this.gameBoard.ExplodingBomb=null):t=!1),null!=this.AttachedMonster&&this.AttachedMonster.Die(),t},t.prototype.Burn=function(t,e,o){if(this.CellState!=p.CellState.Burnt){this.CellState=p.CellState.Burnt,this.flowAtTop=this.flowAtBottom=this.flowAtLeft=this.flowAtRight=null,this.electricEffect=t;var i=this.GetConnections();null!=this.AttachedGift&&this.AttachedGift.Burn(),null!=this.AttachedMonster&&this.AttachedMonster.Shock(),null==o&&(o=this.electricEffect.AddFlow()).AddElectricNode(new cc.Vec2(this.node.position.x-.5*this.node.width,this.node.position.y),0);var n=o.AddElectricNode(this.node.position,u.ELECTRIC_NODE_RADIUS);if(this.RightAntenna&&e!=p.Direction.Right){var r=this.Board_X==u.BOARD_COLUMN_COUNT-1?0:u.ELECTRIC_NODE_RADIUS;r=this.Board_X==u.BOARD_COLUMN_COUNT-1?0:null==this.RightConnectedCell?0:u.ELECTRIC_NODE_RADIUS,o.AddElectricNode(new cc.Vec2(this.node.position.x+this.node.width/2,this.node.position.y),r),this.flowAtRight=o,o=null}if(this.TopAntenna&&e!=p.Direction.Top){null==o&&(o=this.electricEffect.AddFlow(n));r=null==this.TopConnectedCell?0:u.ELECTRIC_NODE_RADIUS;o.AddElectricNode(new cc.Vec2(this.node.position.x,this.node.position.y+this.node.height/2),r),this.flowAtTop=o,o=null}if(this.BottomAntenna&&e!=p.Direction.Bottom){null==o&&(o=this.electricEffect.AddFlow(n));r=null==this.BottomConnectedCell?0:u.ELECTRIC_NODE_RADIUS;o.AddElectricNode(new cc.Vec2(this.node.position.x,this.node.position.y-this.node.height/2),r),this.flowAtBottom=o,o=null}if(this.LeftAntenna&&e!=p.Direction.Left){null==o&&(o=this.electricEffect.AddFlow(n));r=null==this.LeftConnectedCell?0:u.ELECTRIC_NODE_RADIUS;o.AddElectricNode(new cc.Vec2(this.node.position.x-this.node.width/2,this.node.position.y),r),this.flowAtLeft=o,o=null}for(var s=0,l=i;s<l.length;s++){var a=l[s],c=null,h=p.Direction.Top;a==this.TopConnectedCell&&e!=p.Direction.Top?(h=p.Direction.Bottom,c=this.flowAtTop):a==this.LeftConnectedCell&&e!=p.Direction.Left?(h=p.Direction.Right,c=this.flowAtLeft):a==this.BottomConnectedCell&&e!=p.Direction.Bottom?(h=p.Direction.Top,c=this.flowAtBottom):a==this.RightConnectedCell&&e!=p.Direction.Right&&(h=p.Direction.Left,c=this.flowAtRight),a.Burn(t,h,c)}}},t.prototype.GetBurnt=function(){var t=!0;(null!=this.AttachedGift&&this.AttachedGift.GiftType==p.GiftType.Bomb&&(t=!1,this.CellState=p.CellState.Burnt),null!=this.AttachedMonster)&&(0==this.AttachedMonster.Wound()&&(t=!1,this.CellState=p.CellState.Normal));return t},t.prototype.longPressStart=function(){this.longpressLevel=0,this.longpressTimespan=0,this.longpressCounting=!0},t.prototype.longPressed=function(t){1==(this.longpressLevel=t)?null!=this.AttachedGift&&this.AttachedGift.ShowLongPressHint():2==t&&null!=this.AttachedGift&&this.AttachedGift.LongPressFire()},t.prototype.longPressCancel=function(){this.longpressCounting=!1,null!=this.AttachedGift&&this.AttachedGift.StopLongPressHint()},__decorate([s(cc.Sprite)],t.prototype,"CellColor",void 0),__decorate([s(cc.Sprite)],t.prototype,"CellBody",void 0),__decorate([s(cc.Sprite)],t.prototype,"CellHint",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"X_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"X_Hint_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"T_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"T_Hint_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"L_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"L_Hint_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"I_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"I_Hint_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"H_Texture",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"H_Hint_Texture",void 0),t=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Enums":"Enums","./GameBoardController":"GameBoardController","./Global":"Global"}],CongratulationController:[function(t,e,o){"use strict";cc._RF.push(e,"d174cAh5DxNQZlMUtt4E1+X","CongratulationController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Enums"),r=t("./Global"),i=cc._decorator,s=i.ccclass,l=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Panel=null,t.Label=null,t.ComboTexture=null,t.ChainTexture=null,t}return __extends(t,e),t.prototype.ShowAward=function(t,e,o){var i=this;e==n.CongratulationType.Combo?this.Panel.spriteFrame=this.ComboTexture:e==n.CongratulationType.Chain&&(this.Panel.spriteFrame=this.ChainTexture),this.Label.string=null!=o?"X"+o.toString():"",t.addChild(this.node),this.node.scale=0,this.node.runAction(cc.sequence(cc.scaleTo(r.CONGRATULATE_DURATION,1.2),cc.spawn(cc.scaleTo(r.CONGRATULATE_DURATION,1),cc.fadeTo(r.CONGRATULATE_DURATION,128)),cc.callFunc(function(){return t.removeChild(i.node)})))},__decorate([l(cc.Sprite)],t.prototype,"Panel",void 0),__decorate([l(cc.Label)],t.prototype,"Label",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"ComboTexture",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"ChainTexture",void 0),t=__decorate([s],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./Enums":"Enums","./Global":"Global"}],ElectricEffect:[function(t,e,o){"use strict";cc._RF.push(e,"65873YIsu1IfITlljhAsxYH","ElectricEffect"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./ElectricFlow"),n=cc._decorator,r=n.ccclass,s=n.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Texture=null,t.electricFlows=new Array,t}return __extends(t,e),t.prototype.update=function(t){for(var e=0,o=this.electricFlows;e<o.length;e++){o[e].doUpdate(t)}},t.prototype.AddFlow=function(t){void 0===t&&(t=null);var e=new i.default;return e.Init(this.Texture,this.node),null!=t&&e.AddExistingElectricNode(t),this.electricFlows.push(e),e},t.prototype.ClearFlows=function(){for(var t=0,e=this.electricFlows;t<e.length;t++){e[t].Clear()}this.electricFlows.splice(0,this.electricFlows.length)},__decorate([s(cc.SpriteFrame)],t.prototype,"Texture",void 0),t=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./ElectricFlow":"ElectricFlow"}],ElectricFlow:[function(t,e,o){"use strict";cc._RF.push(e,"e577eA1bT9MM6FjW+3bj8Nh","ElectricFlow"),Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ElectricNode"),i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Texture=null,t.ContainerNode=null,t.segments=10,t.lifeSpan=.05,t.age=0,t.speedFactor=1.5,t.currentSpriteScale=1,t.sprites=new Array,t.eNodes=new Array,t}return __extends(t,e),t.prototype.addTestNode=function(){for(var t=0;t<10;t++){var e=new cc.Vec2(30*cc.random0To1()+240,30*cc.random0To1()+70*t),o=7*Math.abs(Math.abs(t-5)-5);this.AddElectricNode(e,o)}},t.prototype.doUpdate=function(t){if(0!=this.eNodes.length){for(var e=0,o=this.eNodes;e<o.length;e++){var i=o[e];(i.belongToFlow=this)&&i.doUpdate(t)}this.drawCatmullRomCurve(),this.age<this.lifeSpan?this.age+=t:this.reset()}},t.prototype.Init=function(t,e){this.Texture=t,this.ContainerNode=e},t.prototype.reset=function(){this.age=0,this.setRandomSize(),this.lifeSpan=.05*cc.random0To1()+.01},t.prototype.setRandomSize=function(){this.currentSpriteScale=.5*cc.randomMinus1To1()+1;for(var t=0,e=this.sprites;t<e.length;t++){e[t].node.setScale(this.currentSpriteScale,this.currentSpriteScale)}},t.prototype.AddElectricNode=function(t,e){void 0===e&&(e=10);var o=new s.default;if(o.init(t,e,this.speedFactor),(o.belongToFlow=this).eNodes.push(o),1<this.eNodes.length)for(var i=0;i<this.segments;i++){var n=new cc.Node,r=n.addComponent(cc.Sprite);r.spriteFrame=this.Texture,r.dstBlendFactor=1,n.setScale(this.currentSpriteScale,this.currentSpriteScale),this.ContainerNode.addChild(n),this.sprites.push(r)}return o},t.prototype.AddExistingElectricNode=function(t){if(this.eNodes.push(t),1<this.eNodes.length)for(var e=0;e<this.segments;e++){var o=new cc.Node,i=o.addComponent(cc.Sprite);i.spriteFrame=this.Texture,i.dstBlendFactor=1,o.setScale(this.currentSpriteScale,this.currentSpriteScale),this.ContainerNode.addChild(o),this.sprites.push(i)}},t.prototype.Clear=function(){this.eNodes.splice(0,this.eNodes.length),this.sprites.splice(0,this.sprites.length),this.ContainerNode.removeAllChildren()},t.prototype.catmullRom=function(t,e,o,i,n){return.5*(2*o+(-e+i)*t+(2*e-5*o+4*i-n)*Math.pow(t,2)+(3*o-e-3*i+n)*Math.pow(t,3))},t.prototype.drawCatmullRomCurve=function(){if(0!=this.eNodes.length)for(var t=this.eNodes[0].position,e=this.eNodes[0].position,o=this.eNodes[0].position,i=this.eNodes[0].position,n=this.eNodes.length,r=1/this.segments,s=2;s<n+1;s++){var l=n<=s?n-1:s;t=this.eNodes[l].position,1<=s&&(l=n<=s-1?n-1:s-1,e=this.eNodes[l].position),2<=s&&(l=n<=s-2?n-1:s-2,o=this.eNodes[l].position),3<=s&&(l=n<=s-3?n-1:s-3,i=this.eNodes[l].position);for(var a=0,c=128*cc.random0To1()+128,h=0;h<this.segments;h++){var p=this.catmullRom(a,t.x,e.x,o.x,i.x),u=this.catmullRom(a,t.y,e.y,o.y,i.y),d=this.sprites[(s-2)*this.segments+h];d.node.setPosition(p,u),d.node.opacity=c,a+=r}}},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{"./ElectricNode":"ElectricNode"}],ElectricNode:[function(t,e,o){"use strict";cc._RF.push(e,"26360KQ/hJHhoEswUESdofs","ElectricNode"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=null,t.fiducialPoint=null,t.radius=0,t.velocity=null,t.speedFactor=1,t.belongToFlow=null,t.velocityMin=1,t.movementTime=0,t.movementDuration=0,t.targetX=0,t.targetY=0,t}return __extends(t,e),t.prototype.init=function(t,e,o){this.position=t,this.fiducialPoint=t,this.radius=e,this.speedFactor=o,this.reset()},t.prototype.doUpdate=function(t){if(this.movementTime<this.movementDuration){var e=t/this.movementDuration,o=this.velocity.x*e,i=this.velocity.y*e;this.position=new cc.Vec2(this.position.x+o,this.position.y+i),this.movementTime+=t}else this.reset()},t.prototype.reset=function(){this.position=this.fiducialPoint;var t=cc.randomMinus1To1()*Math.PI;this.targetX=this.radius*Math.cos(t),this.targetY=this.radius*Math.sin(t);var e=(cc.random0To1()+this.velocityMin)*this.speedFactor,o=e*this.targetX,i=e*this.targetY;this.velocity=new cc.Vec2(o,i),this.movementDuration=1/e,this.movementTime=0},t=__decorate([n],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],Enums:[function(t,e,o){"use strict";var i,n,r,s,l,a,c;cc._RF.push(e,"2f3a8xv3ZhOY6eNRlOGwgKV","Enums"),Object.defineProperty(o,"__esModule",{value:!0}),(i=o.CellState||(o.CellState={}))[i.Normal=0]="Normal",i[i.LeftBorderConnected=1]="LeftBorderConnected",i[i.RightBorderConnected=2]="RightBorderConnected",i[i.Hint=3]="Hint",i[i.Burnt=4]="Burnt",(n=o.GameState||(o.GameState={})).Idle="Idle",n.Hint="Hint",n.Burning="Burning",n.Bombing="Bombing",n.Dropping="Dropping",n.Filling="Filling",n.Chain="Chain",n.MonsterMoving="MonsterMoving",n.Gifting="Gifting",(r=o.CellType||(o.CellType={})).Half="H",r.I="i",r.L="L",r.T="T",r.Cross="X",(s=o.Direction||(o.Direction={}))[s.Top=0]="Top",s[s.Left=1]="Left",s[s.Bottom=2]="Bottom",s[s.Right=3]="Right",(l=o.GiftType||(o.GiftType={}))[l.Lightning=0]="Lightning",l[l.Bomb=1]="Bomb",(a=o.CongratulationType||(o.CongratulationType={}))[a.Combo=0]="Combo",a[a.Chain=1]="Chain",(c=o.MonsterType||(o.MonsterType={})).Small="S",c.Drunk="D",c.Fast="F",c.Large_2="L2",c.Large_1="L1",c.Queen="Q",c.King_2="K2",c.King_1="K1",cc._RF.pop()},{}],GameBoardController:[function(t,e,o){"use strict";cc._RF.push(e,"f5aa2kwIaxMwK+luq/OstUo","GameBoardController"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./CellController"),n=t("./MonsterController"),r=t("./TopBarController"),u=t("./GiftController"),d=t("./Enums"),_=t("./Global"),s=t("./ElectricEffect/ElectricEffect"),l=t("./CongratulationController"),a=t("./BombExplosionController"),c=cc._decorator,h=c.ccclass,p=c.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topBar=null,t.cellTemplate=null,t.MonsterTemplate=null,t.GiftTemplate=null,t.CongratulationTemplate=null,t.cellMatrixLayer=null,t.MonsterLayer=null,t.giftLayer=null,t.electricEffect=null,t.EscapeWarning=null,t.BombExplosion=null,t.gamePaused=!1,t.monsters=null,t.CurrentRoundEnemyKill=0,t.CurrentlyTouchedCell=null,t.usePresets=!1,t.escapedMonsterCount=0,t._CurrentGameState=d.GameState.Idle,t.connectionTrees=new Array,t.droppingCells=new Array,t.cellsToFill=new Array,t.cellsToRemove=new Array,t.movingMonsters=new Array,t.movingGifts=new Array,t.dropPlanMatrix=null,t.sparkleT=null,t.sparkleL=null,t.sparkleB=null,t.sparkleR=null,t.cellMatrix=null,t.freeCells=null,t.leftBorderDetected=!1,t.rightBorderDetected=!1,t.deniedTypes=new Array,t.deniedRotations=new Array,t.cellTypePool=new Array,t.circuitTree=new Array,t.WeaponUsed=!1,t.CellBurntByLigntning=null,t.chargeLightning=null,t.chargeBomb=null,t.GiftQueue=new Array,t.ChainCount=0,t.triggeredBombs=new Array,t.bombedCells=new Array,t.ExplodingBomb=null,t.monsterKilledInThisBurn=0,t.Debug_Lable=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.initCellMatrix()},t.prototype.start=function(){this.startFilling()},t.prototype.update=function(t){},Object.defineProperty(t.prototype,"CurrentGameState",{get:function(){return this._CurrentGameState},set:function(t){this._CurrentGameState=t,this.Debug_CurrentGameState()},enumerable:!0,configurable:!0}),t.prototype.startHint=function(){for(var t=0,e=this.circuitTree;t<e.length;t++){e[t].ShowHint()}this.scheduleOnce(this.hintSchedule,_.CIRCUIT_HINT_DURATION),this.CurrentGameState=d.GameState.Hint},t.prototype.abortHint=function(){this.unschedule(this.hintSchedule);for(var t=0,e=this.circuitTree;t<e.length;t++){e[t].AbortHint()}this.CurrentGameState=d.GameState.Idle},t.prototype.hintSchedule=function(){this.startBurn()},t.prototype.startBurn=function(){this.CurrentGameState=d.GameState.Burning,this.setFire(this.circuitTree),this.updateBurn()},t.prototype.ManuallyBurn=function(t){this.CurrentGameState=d.GameState.Burning,this.setFireWithLightning(t),this.updateBurn()},t.prototype.updateBurn=function(){var t=this;this.scheduleOnce(function(){t.stopFire(),t.tryCongratulateCombo(),t.tryBombing()},_.BURN_DURATION)},t.prototype.tryBombing=function(){if(0<this.triggeredBombs.length){var t=this.triggeredBombs.pop();this.startExplosionAt(t),this.CurrentGameState=d.GameState.Bombing,this.UpdateBombing()}else this.startDropping()},t.prototype.ManuallyExplode=function(t){this.startExplosionAt(t),this.CurrentGameState=d.GameState.Bombing,this.UpdateBombing()},t.prototype.UpdateBombing=function(){var t=this;this.scheduleOnce(function(){t.stopExplosion(),t.tryBombing()},_.BOMB_DURATION)},t.prototype.startDropping=function(){var t=this;this.droppingCells.splice(0,this.droppingCells.length),this.dropPlanMatrix=new Array;for(var e=0;e<_.BOARD_COLUMN_COUNT;e++){for(var o=0,i=new Array,n=0;n<_.BOARD_ROW_COUNT;n++){var r=this.cellMatrix[n][e];if(null==r)o++;else if(0<o){var s=[r,o];i.push(s),this.droppingCells.push(r)}}this.dropPlanMatrix.push(i)}this.schedule(function(){t.dropCell()},_.CELL_DROP_DELAY,_.BOARD_ROW_COUNT),this.CurrentGameState=d.GameState.Dropping,this.updateDrop()},t.prototype.dropCell=function(){for(var l=this,t=function(t){var e=a.dropPlanMatrix[t];if(0<e.length){var o=e.shift(),i=o[0],n=o[1];i.CellState=d.CellState.Normal;var r=i.Board_X,s=i.Board_Y-n;a.cellMatrix[i.Board_Y][i.Board_X]=null,(a.cellMatrix[s][r]=i).Board_Y=s,i.Board_X=r,i.MoveToWhereItShouldBe(function(){l.droppingCells.splice(l.droppingCells.indexOf(i),1),l.updateDrop()})}},a=this,e=0;e<_.BOARD_COLUMN_COUNT;e++)t(e)},t.prototype.updateDrop=function(){this.CurrentGameState==d.GameState.Dropping&&0==this.droppingCells.length&&this.startFilling()},t.prototype.startFilling=function(){var e=this;this.cellsToFill=this.populateCells();for(var o=0,t=function(t){t.GetReadyForShow(),t.scheduleOnce(function(){t.node.runAction(cc.sequence(cc.moveTo(_.CELL_DROP_DURATION,t.WhereItShouldBe),cc.callFunc(function(){e.cellsToFill.splice(e.cellsToFill.indexOf(t),1),e.updateFill()},t)))},.02*o),o++},i=0,n=this.cellsToFill;i<n.length;i++){t(n[i])}this.CurrentGameState=d.GameState.Filling},t.prototype.updateFill=function(){this.CurrentGameState==d.GameState.Filling&&0==this.cellsToFill.length&&(this.UpdateBoard(),0<this.circuitTree.length?(this.CurrentGameState=d.GameState.Chain,this.WeaponUsed||this.ChainCount++):(this.processMonster(),this.tryCongratulateChain()))},t.prototype.processMonster=function(){for(var e=this,t=0,o=0;o<_.BOARD_ROW_COUNT;o++)for(var i=0;i<_.BOARD_COLUMN_COUNT;i++){var n=this.cellMatrix[o][i];if(null!=n&&null!=n.AttachedMonster)if(t++,(l=n.AttachedMonster).ShouldMoveAround&&!this.WeaponUsed)l.MoveAround()||this.movingMonsters.push(l);else l.ShouldMoveAround=!0}if(!(this.WeaponUsed&&0<t))for(var r=0,s=this.populateMonsters();r<s.length;r++){var l=s[r];this.movingMonsters.push(l)}for(var a=function(t){t.MoveToWhereItShoudBe(function(){e.movingMonsters.splice(e.movingMonsters.indexOf(t),1),e.updateMonsterMoving()})},c=0,h=this.movingMonsters;c<h.length;c++){a(l=h[c])}for(var p=0,u=this.movingMonsters;p<u.length;p++){(l=u[p]).AlreadyMovedAround=!1}this.CurrentGameState=d.GameState.MonsterMoving,this.updateMonsterMoving()},t.prototype.updateMonsterMoving=function(){this.CurrentGameState==d.GameState.MonsterMoving&&0==this.movingMonsters.length&&this.checkGameOver()},t.prototype.checkGameOver=function(){3<=this.escapedMonsterCount||this.startGifting()},t.prototype.startGifting=function(){var e=this,t=this.getGifts();if(0<t.length){for(var o=function(t){t.GetReadyForShow(),t.Award(function(){e.movingGifts.splice(e.movingGifts.indexOf(t),1),e.updateGifting()})},i=0,n=t;i<n.length;i++){o(n[i])}this.CurrentGameState=d.GameState.Gifting}else this.goForNextRound()},t.prototype.updateGifting=function(){this.CurrentGameState==d.GameState.Gifting&&0==this.movingGifts.length&&this.goForNextRound()},t.prototype.goForNextRound=function(){this.WeaponUsed=!1,this.CurrentGameState=d.GameState.Idle},t.prototype.sparkAt=function(t,e){t.node.setPosition(e.x,e.y),t.resetSystem(),this.scheduleOnce(function(){return t.stopSystem()},1)},t.prototype.spark=function(t){if(t.CellState!=d.CellState.Normal){if(null!=t.TopConnectedCell){var e=new cc.Vec2(t.node.position.x,t.node.position.y+t.node.height/2);this.sparkAt(this.sparkleT,e)}if(null!=t.BottomConnectedCell){e=new cc.Vec2(t.node.position.x,t.node.position.y-t.node.height/2);this.sparkAt(this.sparkleB,e)}if(null!=t.LeftConnectedCell||0==t.Board_X&&t.LeftAntenna){e=new cc.Vec2(t.node.position.x-t.node.width/2,t.node.position.y);this.sparkAt(this.sparkleL,e)}if(null!=t.RightConnectedCell||t.Board_X==_.BOARD_COLUMN_COUNT-1&&t.RightAntenna){e=new cc.Vec2(t.node.position.x+t.node.width/2,t.node.position.y);this.sparkAt(this.sparkleR,e)}}},t.prototype.initCellMatrix=function(){this.cellMatrix=new Array;for(var t=0;t<_.BOARD_ROW_COUNT;t++){var e=new Array(_.BOARD_COLUMN_COUNT);this.cellMatrix.push(e)}this.freeCells=new Array;for(t=0;t<_.BOARD_ROW_COUNT*_.BOARD_COLUMN_COUNT;t++){var o=cc.instantiate(this.cellTemplate);this.cellMatrixLayer.addChild(o),this.freeCells.push(o.getComponent(i.default)),o.setPosition(0,0)}},t.prototype.populateCells=function(){var t=null;t=this.usePresets?this.initTutorialCells():new Array;for(var e=null,o=null,i=new Array,n=0;n<_.BOARD_ROW_COUNT;n++)for(var r=0;r<_.BOARD_COLUMN_COUNT;r++)if(null==this.cellMatrix[n][r]){for(e=this.pickUpCell(null,r,n),i.splice(0,i.length),this.leftBorderDetected=!1,this.rightBorderDetected=!1,this.getConnectionTree(e,i);this.leftBorderDetected&&this.rightBorderDetected&&(o=this.pickUpCell(e,r,n))!=e;)i.splice(0,i.length),this.leftBorderDetected=!1,this.rightBorderDetected=!1,this.getConnectionTree(o,i),e=o;e.Board_X=r,e.Board_Y=n,this.cellMatrix[n][r]=e,t.push(e)}return t},t.prototype.pickUpCell=function(t,e,o){var i=d.CellType.I,n=0;if(null==t)i=this.pickUpCellType(),n=this.pickUpRotation(),this.deniedTypes.splice(0,this.deniedTypes.length),this.deniedRotations.splice(0,this.deniedRotations.length);else if(4==this.deniedRotations.length){if(5==this.deniedTypes.length)return t;for(this.deniedTypes.push(t.CellType),i=this.pickUpCellType();-1<this.deniedTypes.indexOf(i);)i=this.pickUpCellType();this.deniedRotations.splice(0,this.deniedRotations.length),n=this.pickUpRotation()}else for(this.deniedRotations.push(t.RotationQuarterCount),n=this.pickUpRotation();-1<this.deniedRotations.indexOf(n);)n=this.pickUpRotation();var r=null;return(r=null!=t?t:this.freeCells.pop()).initCell(i,n,e,o),r},t.prototype.initCellTypePool=function(){this.cellTypePool.splice(0,this.cellTypePool.length),this.cellTypePool.push(d.CellType.Half),this.cellTypePool.push(d.CellType.I),this.cellTypePool.push(d.CellType.L),this.cellTypePool.push(d.CellType.T),this.cellTypePool.push(d.CellType.Cross)},t.prototype.pickUpCellType=function(){this.cellTypePool.splice(0,this.cellTypePool.length);for(var t=0,e=0,o=0,i=0,n=0,r=0,s=this.cellMatrix;r<s.length;r++)for(var l=0,a=s[r];l<a.length;l++){var c=a[l];null!=c&&(c.CellType==d.CellType.Cross?t++:c.CellType==d.CellType.T?e++:c.CellType==d.CellType.L?o++:c.CellType==d.CellType.I?i++:c.CellType==d.CellType.Half&&n++)}t<_.MAX_CROSS_COUNT&&this.cellTypePool.push(d.CellType.Cross),e<_.MAX_T_COUNT&&this.cellTypePool.push(d.CellType.T),o<_.MAX_L_COUNT&&this.cellTypePool.push(d.CellType.L),i<_.MAX_I_COUNT&&this.cellTypePool.push(d.CellType.I),n<_.MAX_HALF_COUNT&&this.cellTypePool.push(d.CellType.Half);var h=Math.floor(Math.random()*this.cellTypePool.length);return this.cellTypePool[h]},t.prototype.pickUpRotation=function(){return Math.floor(4*Math.random())},t.prototype.getConnectionTree=function(t,e){e.push(t),0==t.Board_X&&t.LeftAntenna?this.leftBorderDetected=!0:t.Board_X==_.BOARD_COLUMN_COUNT-1&&t.RightAntenna&&(this.rightBorderDetected=!0);var o=t.GetConnections();if(0<o.length)for(var i=0,n=o;i<n.length;i++){var r=n[i];-1==e.indexOf(r)&&this.getConnectionTree(r,e)}},t.prototype.UpdateBoard=function(t){void 0===t&&(t=null);var e=new Array;null!=t&&(this.cellMatrix[t.Board_Y][t.Board_X]=null,this.abortHint());for(var o=0,i=this.cellMatrix;o<i.length;o++)for(var n=0,r=i[o];n<r.length;n++){null!=(s=r[n])&&e.push(s)}for(;0<e.length;){var s;if(null!=(s=e[0])){var l=new Array;this.leftBorderDetected=!1,this.rightBorderDetected=!1,this.getConnectionTree(s,l);for(var a=0,c=l;a<c.length;a++){(u=c[a]).SetState(this.leftBorderDetected,this.rightBorderDetected)}this.leftBorderDetected&&this.rightBorderDetected&&(this.circuitTree=l,null==t&&this.startHint());for(var h=0,p=l;h<p.length;h++){var u=p[h];e.splice(e.indexOf(u),1)}}}null!=t&&(this.cellMatrix[t.Board_Y][t.Board_X]=t)},t.prototype.setFire=function(t){for(var e=0,o=t;e<o.length;e++){var i=o[e];if(0==i.Board_X&&i.LeftAntenna){i.Burn(this.electricEffect,d.Direction.Left,null);break}}},t.prototype.setFireWithLightning=function(t){this.WeaponUsed=!0,(this.CellBurntByLigntning=t).Burn(this.electricEffect,d.Direction.Left,null)},t.prototype.stopFire=function(){if(this.electricEffect.ClearFlows(),null!=this.CellBurntByLigntning){var t=new Array;this.getConnectionTree(this.CellBurntByLigntning,t);for(var e=0,o=t;e<o.length;e++){(r=o[e]).GetBurnt()&&(this.freeCells.push(r),this.cellMatrix[r.Board_Y][r.Board_X]=null,r.GetReadyForShow())}this.CellBurntByLigntning=null}else{for(var i=0,n=this.circuitTree;i<n.length;i++){var r;(r=n[i]).GetBurnt()&&(this.freeCells.push(r),this.cellMatrix[r.Board_Y][r.Board_X]=null,r.GetReadyForShow())}this.circuitTree.splice(0,this.circuitTree.length)}},t.prototype.generateMonsters=function(){var t=new Array,e=cc.instantiate(this.MonsterTemplate),o=e.getComponent(n.default);return o.InitMonster(d.MonsterType.Small),t.push(o),this.MonsterLayer.addChild(e),t},t.prototype.populateMonsters=function(){var t=new Array;if(this.usePresets)t=this.initTutorialMonsters();else{t=this.generateMonsters();for(var e=new Array,o=0;o<_.BOARD_COLUMN_COUNT;o++){var i=this.cellMatrix[_.BOARD_ROW_COUNT-1][o];null==i.AttachedMonster&&e.push(i)}for(var n=0,r=t;n<r.length;n++){var s=r[n];if(e.length<=0)break;var l=Math.floor(Math.random()*e.length);s.AttachToCell(e[l]),s.GetReadyForShow(),e.splice(l,1)}}return t},t.prototype.removeMonster=function(t){},t.prototype.restoreMonsters=function(){},t.prototype.WarnEscape=function(){this.EscapeWarning.runAction(cc.sequence(cc.fadeIn(_.ESCAPE_WARNING_DURATION),cc.fadeOut(_.ESCAPE_WARNING_DURATION),cc.fadeIn(_.ESCAPE_WARNING_DURATION),cc.fadeOut(_.ESCAPE_WARNING_DURATION)))},t.prototype.getGifts=function(){var t=new Array;if(this.usePresets)t=this.initTutorialGifts();else{t=new Array;for(var e=0,o=this.GiftQueue;e<o.length;e++){for(var i=o[e],n=Math.floor(Math.random()*_.BOARD_ROW_COUNT),r=Math.floor(Math.random()*_.BOARD_COLUMN_COUNT),s=!1;!s;){var l=null!=this.cellMatrix[n][r].AttachedGift,a=null!=this.cellMatrix[n][r].AttachedMonster;l||a?(n=Math.floor(Math.random()*_.BOARD_ROW_COUNT),r=Math.floor(Math.random()*_.BOARD_COLUMN_COUNT)):s=!0}var c=this.cellMatrix[n][r],h=cc.instantiate(this.GiftTemplate);this.giftLayer.addChild(h);var p=h.getComponent(u.default);p.Init(i,c),t.push(p)}this.GiftQueue.splice(0,this.GiftQueue.length)}return t},t.prototype.restoreGifts=function(){return null},t.prototype.initTutorialGifts=function(){var t=new Array,e=this.cellMatrix[3][2],o=cc.instantiate(this.GiftTemplate);this.giftLayer.addChild(o);var i=o.getComponent(u.default);return i.Init(d.GiftType.Lightning,e),t.push(i),t},t.prototype.ShowChargeEffect=function(t,e){var o=this.chargeLightning;t==d.GiftType.Bomb&&(o=this.chargeBomb),o.node.setPosition(e.x,e.y),o.resetSystem()},t.prototype.HideChargeEffect=function(t){t==d.GiftType.Lightning?this.chargeLightning.stopSystem():t==d.GiftType.Bomb&&this.chargeBomb.stopSystem()},t.prototype.tryCongratulateChain=function(){if(!(this.ChainCount<=0)){for(var t=0;t<this.ChainCount;t++)this.GiftQueue.push(d.GiftType.Bomb);cc.instantiate(this.CongratulationTemplate).getComponent(l.default).ShowAward(this.giftLayer,d.CongratulationType.Chain,this.ChainCount),this.ChainCount=0}},t.prototype.QueueTriggeredBomb=function(t){this.triggeredBombs.push(t)},t.prototype.startExplosionAt=function(t){this.WeaponUsed=!0,this.ExplodingBomb=t;var e=this.ExplodingBomb.attachedCell;this.BombExplosion.Show(e),this.bombedCells=new Array;for(var o=0;o<_.BOARD_COLUMN_COUNT;o++){null!=(n=this.cellMatrix[e.Board_Y][o])&&this.bombedCells.push(n)}for(var i=0;i<_.BOARD_ROW_COUNT;i++){var n;null!=(n=this.cellMatrix[i][e.Board_X])&&n!=e&&this.bombedCells.push(n)}for(var r=0,s=this.bombedCells;r<s.length;r++){s[r].Bomb()}},t.prototype.stopExplosion=function(){this.BombExplosion.Hide();for(var t=0,e=this.bombedCells;t<e.length;t++){var o=e[t];o.GetBombed()&&(this.freeCells.push(o),this.cellMatrix[o.Board_Y][o.Board_X]=null,o.GetReadyForShow())}this.bombedCells.splice(0,this.bombedCells.length)},t.prototype.CountMonsterKill=function(){this.monsterKilledInThisBurn++},t.prototype.tryCongratulateCombo=function(){if(!this.WeaponUsed){if(this.monsterKilledInThisBurn<2)return void(this.monsterKilledInThisBurn=0);this.GiftQueue.push(d.GiftType.Lightning),cc.instantiate(this.CongratulationTemplate).getComponent(l.default).ShowAward(this.giftLayer,d.CongratulationType.Combo)}this.monsterKilledInThisBurn=0},t.prototype.initTutorialCells=function(){return null},t.prototype.initTutorialMonsters=function(){return null},t.prototype.Debug_CurrentGameState=function(){this.Debug_Lable.string=this.CurrentGameState.toString()},t.prototype.Debug_CellMatrix_Lookup=function(){this.UpdateBoard(),this.Debug_Lable.string="";for(var t=0;t<_.BOARD_ROW_COUNT;t++){for(var e="",o=0;o<_.BOARD_COLUMN_COUNT;o++)if(null!=this.cellMatrix[t][o]){var i=this.cellMatrix[t][o];e+="["+i.CellType.toString()+" "+i.RotationQuarterCount.toString()+"]"}else this.Debug_Lable.string+="[null]";e=e+"\n"+this.Debug_Lable.string,this.Debug_Lable.string=e}},__decorate([p(r.default)],t.prototype,"topBar",void 0),__decorate([p(cc.Prefab)],t.prototype,"cellTemplate",void 0),__decorate([p(cc.Prefab)],t.prototype,"MonsterTemplate",void 0),__decorate([p(cc.Prefab)],t.prototype,"GiftTemplate",void 0),__decorate([p(cc.Prefab)],t.prototype,"CongratulationTemplate",void 0),__decorate([p(cc.Node)],t.prototype,"cellMatrixLayer",void 0),__decorate([p(cc.Node)],t.prototype,"MonsterLayer",void 0),__decorate([p(cc.Node)],t.prototype,"giftLayer",void 0),__decorate([p(s.default)],t.prototype,"electricEffect",void 0),__decorate([p(cc.Node)],t.prototype,"EscapeWarning",void 0),__decorate([p(a.default)],t.prototype,"BombExplosion",void 0),__decorate([p(cc.ParticleSystem)],t.prototype,"sparkleT",void 0),__decorate([p(cc.ParticleSystem)],t.prototype,"sparkleL",void 0),__decorate([p(cc.ParticleSystem)],t.prototype,"sparkleB",void 0),__decorate([p(cc.ParticleSystem)],t.prototype,"sparkleR",void 0),__decorate([p(cc.ParticleSystem)],t.prototype,"chargeLightning",void 0),__decorate([p(cc.ParticleSystem)],t.prototype,"chargeBomb",void 0),__decorate([p(cc.Label)],t.prototype,"Debug_Lable",void 0),t=__decorate([h],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./BombExplosionController":"BombExplosionController","./CellController":"CellController","./CongratulationController":"CongratulationController","./ElectricEffect/ElectricEffect":"ElectricEffect","./Enums":"Enums","./GiftController":"GiftController","./Global":"Global","./MonsterController":"MonsterController","./TopBarController":"TopBarController"}],GiftController:[function(t,e,o){"use strict";cc._RF.push(e,"69407+2OY5GV4sD0sv0W2Kp","GiftController"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Enums"),n=t("./Global"),r=cc._decorator,s=r.ccclass,l=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GiftBody=null,t.Lightning_1=null,t.Lightning_2=null,t.Bomb=null,t.BombStart=null,t.BombStripe=null,t._GiftType=i.GiftType.Lightning,t.flicker_fadeout=!0,t.flicker_stopped=!1,t.attachedCell=null,t._WhereItShouldBe=new cc.Vec2(0,0),t.GIFT_MOVE_DURATION=1,t.BombTriggered=!1,t.longpressHintAction=null,t.longpressHintShown=!1,t.longpressFired=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"GiftType",{get:function(){return this._GiftType},set:function(t){(this._GiftType=t)==i.GiftType.Lightning?this.GiftBody.spriteFrame=this.Lightning_1:t==i.GiftType.Bomb&&(this.GiftBody.spriteFrame=this.Bomb)},enumerable:!0,configurable:!0}),t.prototype.Init=function(t,e){this.GiftType=t,this.AttachToCell(e)},t.prototype.Burn=function(){this.GiftType!=i.GiftType.Bomb?this.GiftType==i.GiftType.Lightning&&this.discard():this.TriggerAsBomb()},t.prototype.flicker=function(){var t=this,e=this.flicker_fadeout?cc.fadeTo(n.GIFT_FLICKER_INTERVAL,64):cc.fadeTo(n.GIFT_FLICKER_INTERVAL,255);this.GiftBody.node.runAction(e),this.scheduleOnce(function(){t.flicker_stopped||t.flicker()},n.GIFT_FLICKER_INTERVAL),this.flicker_fadeout=!this.flicker_fadeout},Object.defineProperty(t.prototype,"WhereItShouldBe",{get:function(){return null!=this.attachedCell?this.attachedCell.WhereItShouldBe:this._WhereItShouldBe},enumerable:!0,configurable:!0}),t.prototype.AttachToCell=function(t){(this.attachedCell=t).AttachedGift=this},t.prototype.detachFromCell=function(){null!=this.attachedCell&&this.attachedCell.AttachedGift==this&&(this.attachedCell.AttachedGift=null,this.attachedCell=null)},t.prototype.Remove=function(){this.unschedule(this.flicker),this.detachFromCell(),this.node.parent.removeChild(this.node)},t.prototype.GetReadyForShow=function(){this.node.setPosition(this.attachedCell.Board_X*this.attachedCell.node.width+n.BOARD_OFFSET_X,this.attachedCell.node.height*n.BOARD_ROW_COUNT+n.STARTING_LINE_OFFSET)},t.prototype.Award=function(t){null==t?this.node.runAction(cc.moveTo(this.GIFT_MOVE_DURATION,this.WhereItShouldBe)):this.node.runAction(cc.sequence(cc.moveTo(this.GIFT_MOVE_DURATION,this.WhereItShouldBe),cc.callFunc(t,this))),this.flicker()},t.prototype.TriggerAsBomb=function(){var t=this;this.BombTriggered||(this.BombTriggered=!0,this.GiftBody.spriteFrame=this.BombStart,this.GiftBody.node.runAction(cc.sequence(cc.scaleTo(.3*n.BURN_DURATION,1.3),cc.scaleTo(.6*n.BURN_DURATION,.5),cc.callFunc(function(){return t.node.opacity=0}))),this.attachedCell.gameBoard.QueueTriggeredBomb(this))},t.prototype.discard=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(n.GIFT_MOVEMENT_DURATION,0),cc.callFunc(function(){return t.Remove()})))},t.prototype.ShowLongPressHint=function(){this.attachedCell.gameBoard.ShowChargeEffect(this.GiftType,this.node.position)},t.prototype.StopLongPressHint=function(){this.attachedCell.gameBoard.HideChargeEffect(this.GiftType)},t.prototype.LongPressFire=function(){this.StopLongPressHint(),this.GiftType==i.GiftType.Lightning?this.attachedCell.gameBoard.ManuallyBurn(this.attachedCell):this.GiftType==i.GiftType.Bomb&&(this.BombTriggered=!0,this.flicker_stopped=!0,this.node.opacity=0,this.attachedCell.gameBoard.ManuallyExplode(this)),this.longpressFired=!0},__decorate([l(cc.Sprite)],t.prototype,"GiftBody",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"Lightning_1",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"Lightning_2",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"Bomb",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"BombStart",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"BombStripe",void 0),t=__decorate([s],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./Enums":"Enums","./Global":"Global"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"71ed9BnKL5Jc5VM2QM/6lUS","Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.BOARD_ROW_COUNT=8,o.BOARD_COLUMN_COUNT=5,o.MAX_CROSS_COUNT=3,o.MAX_T_COUNT=8,o.MAX_L_COUNT=15,o.MAX_I_COUNT=13,o.MAX_HALF_COUNT=1,o.BOARD_OFFSET_X=100,o.BOARD_OFFSET_Y=80,o.CIRCUIT_HINT_DURATION=1,o.BURN_DURATION=1,o.CELL_ROTATE_DURATION=.15,o.CELL_DROP_DURATION=.2,o.CELL_DROP_DELAY=.1,o.STARTING_LINE_OFFSET=300,o.MONSTER_MOVE_DURATION=.3,o.ESCAPE_WARNING_DURATION=.2,o.ELECTRIC_NODE_RADIUS=10,o.CONGRATULATE_DURATION=.5,o.GIFT_MOVEMENT_DURATION=.3,o.GIFT_LONGPRESS_HINT_INTERVAL=.2,o.GIFT_LONGPRESS_DURATION=2,o.GIFT_LONGPRESS_THESHOLD=.6,o.GIFT_FLICKER_INTERVAL=.7,o.BOMB_DURATION=1,cc._RF.pop()},{}],MonsterController:[function(t,e,o){"use strict";cc._RF.push(e,"8df846M9l5E7ItczCWy0MaS","MonsterController"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameBoardController"),n=t("./Enums"),l=t("./Global"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MonsterBody=null,t.MonsterEye=null,t.m_eye_open=null,t.m_eye_closed=null,t.m_1_noraml=null,t.m_1_angry=null,t.m_1_shock_1=null,t.m_1_shock_2=null,t.m_2_noraml=null,t.m_2_angry=null,t.m_2_shock_1=null,t.m_2_shock_2=null,t.m_3_noraml=null,t.m_3_angry=null,t.m_3_shock_1=null,t.m_3_shock_2=null,t.m_4_noraml=null,t.m_4_angry=null,t.m_4_shock_1=null,t.m_4_shock_2=null,t.m_5_noraml=null,t.m_5_angry=null,t.m_5_shock_1=null,t.m_5_shock_2=null,t.m_6_noraml=null,t.m_6_angry=null,t.m_6_shock_1=null,t.m_6_shock_2=null,t.m_7_noraml=null,t.m_7_angry=null,t.m_7_shock_1=null,t.m_7_shock_2=null,t.m_8_noraml=null,t.m_8_angry=null,t.m_8_shock_1=null,t.m_8_shock_2=null,t.AudioBark=null,t.sf_body_normal=null,t.sf_body_shock_1=null,t.sf_body_shock_2=null,t.sf_body_angry=null,t.gameBoard=null,t.Health=1,t._MonsterType=n.MonsterType.Small,t.attachedCell=null,t._WhereItShouldBe=new cc.Vec2(0,0),t.ShouldMoveAround=!0,t.AlreadyMovedAround=!1,t.eyesOpen=!0,t.MONSTER_EYE_BASE_POS_X=-3,t.MONSTER_EYE_BASE_POS_Y=5,t.IsAngry=!1,t.MONSTER_SCALE_DURATION=.15,t.MONSTER_SCALE_NORMAL=1.2,t.MONSTER_SCALE_ANGRY=1.8,t.MONSTER_ANGRY_DURATION=1,t.MONSTER_thrill_count_MAX=10,t.MONSTER_thrill_INTERVAL=.07,t.thrill_count=0,t.shock_count=0,t.MONSTER_SHOCK_INTERVAL=.06,t.MONSTER_shock_count_MAX=13,t.escaped=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"MonsterType",{get:function(){return this._MonsterType},set:function(t){switch(this._MonsterType=t,this._MonsterType){case n.MonsterType.Small:this.sf_body_normal=this.m_1_noraml,this.sf_body_shock_1=this.m_1_shock_1,this.sf_body_shock_2=this.m_1_shock_2,this.sf_body_angry=this.m_1_angry,this.Health=1;break;case n.MonsterType.Drunk:this.sf_body_normal=this.m_2_noraml,this.sf_body_shock_1=this.m_2_shock_1,this.sf_body_shock_2=this.m_2_shock_2,this.sf_body_angry=this.m_2_angry,this.Health=1;break;case n.MonsterType.Fast:this.sf_body_normal=this.m_5_noraml,this.sf_body_shock_1=this.m_5_shock_1,this.sf_body_shock_2=this.m_5_shock_2,this.sf_body_angry=this.m_5_angry;break;case n.MonsterType.Large_1:this.sf_body_normal=this.m_4_noraml,this.sf_body_shock_1=this.m_4_shock_1,this.sf_body_shock_2=this.m_4_shock_2,this.sf_body_angry=this.m_4_angry,this.Health=1;break;case n.MonsterType.Large_2:this.sf_body_normal=this.m_3_noraml,this.sf_body_shock_1=this.m_3_shock_1,this.sf_body_shock_2=this.m_3_shock_2,this.sf_body_angry=this.m_3_angry,this.Health=2;break;case n.MonsterType.Queen:this.sf_body_normal=this.m_8_noraml,this.sf_body_shock_1=this.m_8_shock_1,this.sf_body_shock_2=this.m_8_shock_2,this.sf_body_angry=this.m_8_angry,this.Health=2;break;case n.MonsterType.King_1:this.sf_body_normal=this.m_7_noraml,this.sf_body_shock_1=this.m_7_shock_1,this.sf_body_shock_2=this.m_7_shock_2,this.sf_body_angry=this.m_7_angry,this.Health=1;break;case n.MonsterType.King_2:this.sf_body_normal=this.m_6_noraml,this.sf_body_shock_1=this.m_6_shock_1,this.sf_body_shock_2=this.m_6_shock_2,this.sf_body_angry=this.m_6_angry,this.Health=2}this.MonsterBody.spriteFrame=this.sf_body_normal,this.MonsterEye.spriteFrame=this.m_eye_open},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.eyeBlink(),this.eyeMove()},t.prototype.onLoad=function(){this.gameBoard=cc.find("Canvas").getComponent(i.default)},t.prototype.InitMonster=function(t){this.MonsterType=t},Object.defineProperty(t.prototype,"WhereItShouldBe",{get:function(){return null!=this.attachedCell?this.attachedCell.WhereItShouldBe:this._WhereItShouldBe},enumerable:!0,configurable:!0}),t.prototype.AttachToCell=function(t){this.detachFromCell(),(this.attachedCell=t).AttachedMonster=this},t.prototype.detachFromCell=function(){null!=this.attachedCell&&this.attachedCell.AttachedMonster==this&&(this.attachedCell.AttachedMonster=null,this.attachedCell=null)},t.prototype.GetReadyForShow=function(){this.node.setPosition(this.attachedCell.Board_X*this.attachedCell.node.width+l.BOARD_OFFSET_X,this.attachedCell.node.height*l.BOARD_ROW_COUNT+l.STARTING_LINE_OFFSET)},t.prototype.MoveToWhereItShoudBe=function(t){this.node.runAction(cc.sequence(cc.moveTo(l.MONSTER_MOVE_DURATION,this.WhereItShouldBe),cc.callFunc(t,this)))},t.prototype.MoveAround=function(){if(0==this.ShouldMoveAround)return!1;if(this.AlreadyMovedAround)return!1;var t=null;if(this.MonsterType==n.MonsterType.Small)if(0==this.attachedCell.Board_Y)this.Escape();else{var e=[[[-1,0]],[[0,1],[0,-1]]];t=this.tryGetAvailableCell(e)}else if(this.MonsterType==n.MonsterType.Drunk)if(0==this.attachedCell.Board_Y)this.Escape();else{e=[[[-1,1],[-1,-1]],[[-1,0]],[[0,1],[0,-1]]];t=this.tryGetAvailableCell(e)}else if(this.MonsterType==n.MonsterType.Fast)if(this.attachedCell.Board_Y<=1)this.Escape();else{e=[[[-2,0]],[[-1,0]]];t=this.tryGetAvailableCell(e)}else if(this.MonsterType==n.MonsterType.Large_1||this.MonsterType==n.MonsterType.Large_2)if(0==this.attachedCell.Board_Y)this.Escape();else{e=[[[-1,0]],[[0,1],[0,-1]]];t=this.tryGetAvailableCell(e)}else if(this.MonsterType==n.MonsterType.Queen)if(0==this.attachedCell.Board_Y)this.Escape();else{e=[[[-1,1],[-1,-1]],[[-1,0]],[[0,1],[0,-1]]];t=this.tryGetAvailableCell(e)}else if(this.MonsterType==n.MonsterType.King_1||this.MonsterType==n.MonsterType.King_2)if(this.attachedCell.Board_Y<=1)this.Escape();else{e=[[[-2,1],[-2,-1]],[[-2,0]],[[-1,1],[-1,-1]],[[-1,0]],[[0,1],[0,-1]]];t=this.tryGetAvailableCell(e)}return null!=t&&(this.AttachToCell(t),this.AlreadyMovedAround=!0),this.escaped},t.prototype.tryGetAvailableCell=function(t){for(var e=null;0<t.length;){var o=t.shift(),i=o[Math.floor(Math.random()*o.length)],n=this.attachedCell.Board_Y+i[0],r=this.attachedCell.Board_X+i[1];if(!(r<0||r>=l.BOARD_COLUMN_COUNT)){var s=this.gameBoard.cellMatrix[n][r];if(null==s.AttachedMonster){e=s;break}}}return e},t.prototype.eyeBlink=function(){var t=this;this.eyesOpen?this.MonsterEye.spriteFrame=this.m_eye_open:this.MonsterEye.spriteFrame=this.m_eye_closed;var e=Math.random()*(this.eyesOpen?3:.3)+(this.eyesOpen?.5:.1);this.eyesOpen=!this.eyesOpen,this.scheduleOnce(function(){t.eyeBlink()},e)},t.prototype.eyeMove=function(){var t=this;this.MonsterEye.node.position=new cc.Vec2(3*cc.randomMinus1To1()+this.MONSTER_EYE_BASE_POS_X,3*cc.randomMinus1To1()+this.MONSTER_EYE_BASE_POS_Y);var e=2*Math.random();this.scheduleOnce(function(){t.eyeMove()},e)},t.prototype.setEyeVisibility=function(t){this.MonsterEye.enabled=t},t.prototype.GetAngry=function(){var t=this;this.IsAngry||(this.IsAngry=!0,this.setEyeVisibility(!1),this.MonsterBody.spriteFrame=this.sf_body_angry,this.node.runAction(cc.scaleTo(this.MONSTER_SCALE_DURATION,this.MONSTER_SCALE_ANGRY,this.MONSTER_SCALE_ANGRY)),this.scheduleOnce(function(){t.MonsterBody.spriteFrame=t.sf_body_normal,t.node.runAction(cc.scaleTo(t.MONSTER_SCALE_DURATION,t.MONSTER_SCALE_NORMAL,t.MONSTER_SCALE_NORMAL)),t.setEyeVisibility(!0),t.IsAngry=!1},this.MONSTER_ANGRY_DURATION),this.thrill(),this.AudioBark.play())},t.prototype.thrill_old=function(){var t=this;if(this.thrill_count<this.MONSTER_thrill_count_MAX){var e=this.thrill_count%2==0?.1:-.1;this.MonsterBody.node.runAction(cc.sequence(cc.scaleBy(this.MONSTER_thrill_INTERVAL,e),cc.callFunc(function(){return t.thrill()},this))),this.thrill_count++}else this.thrill_count=0,this.MonsterBody.node.scale=1},t.prototype.thrill=function(){var t=this;if(this.thrill_count<this.MONSTER_thrill_count_MAX){var e=this.thrill_count%2==0?5:-5;this.node.runAction(cc.sequence(cc.rotateTo(this.MONSTER_thrill_INTERVAL,e),cc.callFunc(function(){return t.thrill()},this))),this.thrill_count++}else this.thrill_count=0,this.node.rotation=0},t.prototype.Shock=function(){this.setEyeVisibility(!1),this.shock_count=0,this.shockUpdate()},t.prototype.shockUpdate=function(){var t=this;this.shock_count<this.MONSTER_shock_count_MAX?(this.shock_count++,this.MonsterBody.spriteFrame=this.shock_count%2==0?this.sf_body_shock_1:this.sf_body_shock_2,this.scheduleOnce(function(){t.shockUpdate()},this.MONSTER_SHOCK_INTERVAL)):this.shock_count=0},t.prototype.Wound=function(){var t=!1;return this.Health--,0<this.Health?(this.MonsterType==n.MonsterType.Large_2?this.MonsterType=n.MonsterType.Large_1:this.MonsterType==n.MonsterType.King_2?this.MonsterType=n.MonsterType.King_1:this.MonsterType==n.MonsterType.Queen&&(this.queenTransform(),this.ShouldMoveAround=!1),this.setEyeVisibility(!0)):(this.Die(),t=!0),t},t.prototype.queenTransform=function(){var t=this,e=[n.MonsterType.Small,n.MonsterType.Drunk,n.MonsterType.Fast],o=e[Math.floor(Math.random()*e.length)];this.node.runAction(cc.sequence(cc.scaleTo(.3*l.CELL_DROP_DURATION,.3),cc.callFunc(function(){return t.MonsterType=o}),cc.scaleTo(.6*l.CELL_DROP_DURATION,1)))},t.prototype.Die=function(){var t=this;this.detachFromCell(),this.MonsterBody.spriteFrame=this.sf_body_shock_2,this.node.runAction(cc.fadeOut(l.MONSTER_MOVE_DURATION)),this.node.runAction(cc.sequence(cc.moveBy(l.MONSTER_MOVE_DURATION,cc.p(0,this.node.height)),cc.callFunc(function(){t.node.parent.removeChild(t.node)}))),this.gameBoard.ManualBurn||this.gameBoard.CurrentGameState==n.GameState.Bombing||this.gameBoard.CountMonsterKill()},t.prototype.Escape=function(){var t=this;this.escaped=!0,this.gameBoard.WarnEscape(),this.detachFromCell(),this.node.runAction(cc.sequence(cc.moveBy(l.MONSTER_MOVE_DURATION,cc.p(0,-this.node.height)),cc.callFunc(function(){t.node.parent.removeChild(t.node)})))},__decorate([a(cc.Sprite)],t.prototype,"MonsterBody",void 0),__decorate([a(cc.Sprite)],t.prototype,"MonsterEye",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_eye_open",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_eye_closed",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_1_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_1_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_1_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_1_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_2_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_2_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_2_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_2_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_3_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_3_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_3_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_3_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_4_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_4_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_4_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_4_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_5_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_5_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_5_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_5_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_6_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_6_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_6_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_6_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_7_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_7_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_7_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_7_shock_2",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_8_noraml",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_8_angry",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_8_shock_1",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"m_8_shock_2",void 0),__decorate([a(cc.AudioSource)],t.prototype,"AudioBark",void 0),t=__decorate([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./Enums":"Enums","./GameBoardController":"GameBoardController","./Global":"Global"}],TopBarController:[function(t,e,o){"use strict";cc._RF.push(e,"4f106CPloVP1aZA5vezIEmK","TopBarController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([n],e)}(cc.Component));o.default=r,cc._RF.pop()},{}]},{},["BombExplosionController","CellController","CongratulationController","ElectricEffect","ElectricFlow","ElectricNode","Enums","GameBoardController","GiftController","Global","MonsterController","TopBarController"]);