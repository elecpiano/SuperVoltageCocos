{"version":3,"sources":["CongratulationController.ts"],"names":[],"mappings":";;;;;AAAA,+BAAiC;AACjC,iCAAmC;AAG7B,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAsD,4CAAY;IADlE;QAGI,oBAAoB;QAHxB,qEA+CC;QAzCG,WAAK,GAAc,IAAI,CAAC;QAExB,WAAK,GAAa,IAAI,CAAC;QAEvB,kBAAY,GAAmB,IAAI,CAAC;QAEpC,kBAAY,GAAmB,IAAI,CAAC;;IAmCxC,CAAC;IAjCG,YAAY;IAEZ,4CAAS,GAAT,UAAU,SAAkB,EAAE,IAA8B,EAAE,KAAc;QAA5E,iBA6BC;QA5BG,IAAI,IAAI,IAAI,KAAK,CAAC,kBAAkB,CAAC,KAAK,EAAE;YACxC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;SAC9C;aACI,IAAI,IAAI,IAAI,KAAK,CAAC,kBAAkB,CAAC,KAAK,EAAE;YAC7C,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;SAC9C;QAED,IAAI,KAAK,IAAE,IAAI,EAAE;YACb,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;SAC9C;aACG;YACA,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;SAC1B;QAED,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QAEpB,IAAI,CAAC,IAAI,CAAC,SAAS,CACf,EAAE,CAAC,QAAQ,CACP,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,GAAG,CAAC,EAC7C,EAAE,CAAC,KAAK,CACJ,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC,EAC3C,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAC/C,EACD,EAAE,CAAC,QAAQ,CAAC,cAAI,OAAA,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,EAAhC,CAAgC,CAAC,CACpD,CACJ,CAAC;IAEN,CAAC;IAvCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;2DACI;IAExB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;2DACI;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;kEACW;IAEpC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;kEACW;IAXnB,wBAAwB;QAD5C,OAAO;OACa,wBAAwB,CA8C5C;IAAD,+BAAC;CA9CD,AA8CC,CA9CqD,EAAE,CAAC,SAAS,GA8CjE;kBA9CoB,wBAAwB","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import * as Enums from \"./Enums\";\nimport * as Global from \"./Global\";\nimport CellController from \"./CellController\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class CongratulationController extends cc.Component {\n\n    //#region Properties\n\n    @property(cc.Sprite)\n    Panel: cc.Sprite = null;\n    @property(cc.Label)\n    Label: cc.Label = null;\n    @property(cc.SpriteFrame)\n    ComboTexture: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    ChainTexture: cc.SpriteFrame = null;\n\n    //#endregion\n\n    ShowAward(container: cc.Node, type: Enums.CongratulationType, count?: number){\n        if (type == Enums.CongratulationType.Combo) {\n            this.Panel.spriteFrame = this.ComboTexture;\n        }\n        else if (type == Enums.CongratulationType.Chain) {\n            this.Panel.spriteFrame = this.ChainTexture;\n        }\n\n        if (count!=null) {\n            this.Label.string = \"X\" + count.toString();            \n        }\n        else{\n            this.Label.string = \"\";\n        }\n\n        container.addChild(this.node);\n        this.node.scale = 0;\n\n        this.node.runAction(\n            cc.sequence(\n                cc.scaleTo(Global.CONGRATULATE_DURATION, 1.2),\n                cc.spawn(\n                    cc.scaleTo(Global.CONGRATULATE_DURATION, 1),\n                    cc.fadeTo(Global.CONGRATULATE_DURATION, 128)\n                ),\n                cc.callFunc(()=>container.removeChild(this.node))\n            )\n        );\n\n    }\n\n}\n"]}